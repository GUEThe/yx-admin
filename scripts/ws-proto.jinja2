// Generated by scripts,DO NOT EDIT!!

import * as m from "./models";
import { WsMessage, wsMessageCenter } from "@/mpWsMessageCenter";

{% for proto in protos %}

/**
 * @summary  {{proto.summary}}
 * @description  {{proto.description}}
 * @param payload 请求消息体
 * @param timeout 超时毫秒数
 * @returns Promise<{{proto.ackPayload}}> {{proto.ackDescription}}
 *
 */
export function {{proto.funName}}(
  payload:{{proto.payload}},
  timeout: number = 5000
) {
  const code = {{proto.code}};
  const ackCode = {{proto.ackCode}};
  return wsMessageCenter.send<{{proto.ackPayload}}>({ code, payload, ackCode }, timeout);
}
{% endfor %}

{% for notify in notifyList %}
  /**
  * @summary  {{notify.summary}}
  * @description  {{notify.description}}
  * @page 页面 id
  */
 export function {{notify.funName}}(
  page: string,
  callback: (payload: {{notify.payload}}) => void
) {
  const protoCode = {{notify.code}};
  wsMessageCenter.addNotifyObserver(protoCode, page, callback);
}
{% endfor %}
